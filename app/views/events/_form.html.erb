<%= form_with(model: event, local: true) do |form| %>
  <% if event.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(event.errors.count, "error") %> prohibited this event from being saved:</h2>

      <ul>
        <% event.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :event_date, style: "display: block" %>
    <%= form.date_field :event_date %>
  </div>

  <div>
    <%= form.label :event_time, style: "display: block" %>
    <%= form.time_field :event_time %>
  </div>

  <div>
    <%= form.label :food_category, style: "display: block" %>
    <%= form.text_field :food_category %>
  </div>

  <fieldset>
    <legend>Meal Items:</legend>
    <%= form.fields_for :meal_items do |items_form| %>
      <%= render "meal_item_fields", form: items_form %>
    <% end %>
    <%= link_to_add_fields "Add Meal Items", form, :meal_items %>
  </fieldset>

<!--  <ul>-->
    <%#= form.fields_for :meal_items do |items_form| %>
<!--      <li>-->
        <%#= items_form.check_box :_destroy %>
        <%#= items_form.label :meal_item %>
        <%#= items_form.text_field :meal_item %>
<!--      </li>-->
    <%# end %>
<!--  </ul>-->

<!--  <div>-->
    <%#= form.label :attendee_total, style: "display: block" %>
    <%#= form.number_field :attendee_total %>
<!--  </div>-->

<!--  <hr>-->

  <%#= form.fields_for :meal_items do |ff| %>
    <%#= tag.div class: "flex gap-2" do %>
      <%#= ff.select :meal_item, MealItem.all.map { |i| [i.meal_item, i.id] }, include_blank: "Add Meal Item" %>
      <%#= ff.text_field :meal_item, placeholder: "Add Item" %>
      <%#= ff.check_box :_destroy, title: "Check to delete item" %>
    <%# end %>
  <%# end %>
  <%#= form.submit "Add Item", name: :add_item %>

<!--  <hr>-->

  <div>
    <%= form.label :notes, style: "display: block" %>
    <%= form.text_area :notes %>
  </div>

  <div>
    <%= form.submit %>
  </div>
<% end %>


